# 🚛 FleetMaster ERP System

**FleetMaster** — це комплексна система планування ресурсів підприємства (ERP), розроблена для автоматизації процесів логістичної компанії. Проєкт реалізовано мовою C\# з використанням принципів чистої архітектури (Clean Architecture) та багаторівневої структури (N-Layer).

Система покриває повний цикл роботи: від управління автопарком та кадрами до фінансового обліку та генерації аналітичних звітів.

-----

## 📋 Зміст

  - [Архітектура](https://www.google.com/search?q=%23-%D0%B0%D1%80%D1%85%D1%96%D1%82%D0%B5%D0%BA%D1%82%D1%83%D1%80%D0%B0)
  - [Функціональні можливості](https://www.google.com/search?q=%23-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D1%96%D0%BE%D0%BD%D0%B0%D0%BB%D1%8C%D0%BD%D1%96-%D0%BC%D0%BE%D0%B6%D0%BB%D0%B8%D0%B2%D0%BE%D1%81%D1%82%D1%96)
  - [Технологічний стек](https://www.google.com/search?q=%23-%D1%82%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D1%96%D1%87%D0%BD%D0%B8%D0%B9-%D1%81%D1%82%D0%B5%D0%BA)
  - [Структура проєкту](https://www.google.com/search?q=%23-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BF%D1%80%D0%BE%D1%94%D0%BA%D1%82%D1%83)
  - [Встановлення та запуск](https://www.google.com/search?q=%23-%D0%B2%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BD%D1%8F-%D1%82%D0%B0-%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA)
  - [Тестування](https://www.google.com/search?q=%23-%D1%82%D0%B5%D1%81%D1%82%D1%83%D0%B2%D0%B0%D0%BD%D0%BD%D1%8F)

-----

## 🏗 Архітектура

Проєкт побудований за принципами **N-Layer Architecture**, що забезпечує слабку зв'язність компонентів (Loose Coupling) та легкість масштабування.

### 1\. FleetMaster.Core (Domain Layer)

Ядро системи. Містить лише чисті класи та абстракції.

  - **Entities:** Базові сутності (`Vehicle`, `Driver`, `Order`, `FinancialTransaction`).
  - **Interfaces:** Контракти для репозиторіїв та сервісів (`IRepository<T>`, `ILogger`).
  - **DTOs:** Об'єкти для передачі даних у звіти.
  - **Exceptions:** Кастомні винятки (`EntityNotFoundException`, `ValidationException`).

### 2\. FleetMaster.Infrastructure (Data Layer)

Відповідає за роботу із зовнішнім світом.

  - **Repositories:** Реалізація Generic Repository pattern. Збереження даних у **JSON-файли**.
  - **Logging:** Власна система логування у текстові файли.
  - **Data Seeder:** Модуль автоматичної генерації початкових даних (50+ водіїв, 30+ авто).

### 3\. FleetMaster.BusinessLogic (Service Layer)

Містить бізнес-правила та валідацію.

  - **Services:** `VehicleService`, `OrderService`, `FinanceService`, `MaintenanceService`.
  - **Validators:** Перевірка даних перед обробкою (наприклад, вік водія, вантажопідйомність).
  - **Mappers:** Конвертація сутностей у DTO.

### 4\. FleetMaster.ConsoleUI (Presentation Layer)

Інтерфейс взаємодії з користувачем.

  - Багаторівневе меню.
  - Обробка введення та відображення помилок.

-----

## 🚀 Функціональні можливості

### 🚚 Управління транспортом

  - Облік вантажівок та фургонів.
  - Контроль технічного стану (на ходу / в ремонті).
  - Валідація характеристик (рік випуску, витрата палива).

### 📦 Логістика та Замовлення

  - Створення замовлень з розрахунком вартості.
  - **Smart Assignment:** Алгоритм автоматичного підбору машини (по вазі) та вільного водія.

### 👨‍✈️ Відділ кадрів (HR)

  - База водіїв.
  - Відстеження стажу та категорії прав.
  - Прив'язка водіїв до транспортних засобів.

### 🔧 СТО та Сервіс

  - Журнал ремонтів та технічного обслуговування.
  - Автоматичне блокування машини при аварійному ремонті.
  - Синхронізація витрат з фінансовим модулем.

### 💰 Фінанси (Accounting)

  - **Payroll:** Розрахунок зарплати (Ставка + % від замовлень + Бонус за стаж).
  - **P\&L Report:** Зведення балансу компанії (Доходи - Витрати).
  - Історія фінансових транзакцій.

### 📊 Звіти (Reporting)

  - Експорт даних у формат **.CSV** (сумісний з Excel).
  - Генерація звітів по замовленнях, автопарку та фінансах.

-----

## 🛠 Технологічний стек

  - **Platform:** .NET 8.0
  - **Language:** C\# 12
  - **Persistence:** JSON-based storage (`System.Text.Json`)
  - **Testing:** xUnit, Mocking pattern
  - **Architecture:** Repository Pattern, Dependency Injection (DI)

-----

## 📂 Структура проєкту

```text
FleetMaster
├── FleetMaster.Core            # Сутності, Інтерфейси, DTO, Винятки
├── FleetMaster.Infrastructure  # Репозиторії, Логер, Робота з файлами
├── FleetMaster.BusinessLogic   # Сервіси, Валідатори, Мапери
├── FleetMaster.ConsoleUI       # Меню, Program.cs
└── FleetMaster.Tests           # Юніт-тести
```

-----

## ⚡ Встановлення та запуск

1.  **Клонуйте репозиторій:**
    ```bash
    git clone https://github.com/your-username/FleetMaster.git
    ```
2.  **Перейдіть у папку проєкту:**
    ```bash
    cd FleetMaster
    ```
3.  **Запустіть проєкт:**
    ```bash
    dotnet run --project FleetMaster.ConsoleUI
    ```

*При першому запуску система автоматично створить необхідні JSON-файли та наповнить їх тестовими даними.*

-----

## 🧪 Тестування

Проєкт покритий Unit-тестами (xUnit) для перевірки бізнес-логіки. Використовуються `FakeRepository` та `FakeLogger` для ізоляції тестів від файлової системи.

**Запуск тестів:**

```bash
dotnet test
```
